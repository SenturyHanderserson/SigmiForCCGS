<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>camebridge maths - Google Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.globe.min.js"></script>
	<link href="//www.gstatic.com/images/branding/searchlogo/ico/favicon.ico" rel="icon">
    <style>
        .glassmorphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #6e45e2 0%, #88d3ce 100%);
        }
        .hover-scale {
            transition: all 0.3s ease;
        }
        .hover-scale:hover {
            transform: scale(1.02);
        }
        .file-card:hover .download-icon {
            transform: translateY(-3px);
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #fff;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .minecraft-btn {
            background: linear-gradient(135deg, #3b8526 0%, #60b03e 100%);
            transition: all 0.3s ease;
        }
        .minecraft-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(59, 133, 38, 0.3);
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        .client-option {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .client-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .members-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            height: 100%;
            width: 320px;
            background: rgba(30, 30, 46, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 1001;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            box-shadow: -5px 0 25px rgba(0, 0, 0, 0.3);
        }
        .members-sidebar.active {
            transform: translateX(0);
        }
        .members-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .members-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .opacity-0 { 
            opacity: 0; 
            transition: opacity 0.3s ease; 
        }
        .opacity-100 { 
            opacity: 1; 
            transition: opacity 0.3s ease; 
        }
        .disable-interaction {
            pointer-events: none;
            user-select: none;
        }
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .login-modal.active {
            opacity: 1;
            visibility: visible;
        }
        .login-content {
            background: linear-gradient(135deg, #6e3b9c 0%, #3b1d6c 50%, #1a0933 100%);
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        .login-modal.active .login-content {
            transform: scale(1);
        }
        .medal-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, #FFD700 0%, #DAA520 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        /* Notification system */
        .notification-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            width: 100%;
            max-width: 24rem;
        }

        .notification {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: translateX(0);
            transition: all 0.3s ease;
        }

        .notification.hidden {
            transform: translateX(100%);
            opacity: 0;
        }

        .notification-icon {
            margin-right: 0.75rem;
            flex-shrink: 0;
        }

        .notification-content {
            flex-grow: 1;
        }

        .notification-close {
            margin-left: 0.75rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }

        .notification-close:hover {
            opacity: 1;
        }

        /* Warning Modal Styles */
        #warningModal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        #warningModal.hidden {
            display: none;
        }

        /* Message Styles */
        .message-container {
            position: fixed;
            top: 70px;
            left: 20px;
            z-index: 1001;
            width: 350px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .message-alert {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border-left: 4px solid #ff8c00;
            border-top: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .message-sender {
            font-weight: bold;
            font-size: 0.9em;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .message-time {
            font-size: 0.8em;
            opacity: 0.9;
            color: #e0e0e0;
        }

        .message-content {
            font-size: 0.95em;
            line-height: 1.4;
            margin-bottom: 10px;
            word-wrap: break-word;
        }

        .message-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .message-btn {
            padding: 5px 12px;
            border: none;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .message-dismiss {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .message-dismiss:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }

        /* Broadcast Toast Styles */
        .broadcast-toast {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 24rem;
        }

        /* Animation keyframes */
        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutToLeft {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(-100%);
            }
        }

        .message-slide-in {
            animation: slideInFromLeft 0.5s ease forwards;
        }

        .message-slide-out {
            animation: slideOutToLeft 0.5s ease forwards;
        }
    </style>
</head>
<body class="min-h-screen gradient-bg text-white font-sans">
    <!-- Background Effect -->
    <div id="vanta-bg" class="fixed inset-0 z-0"></div>

    <!-- Login Modal -->
    <div id="loginModal" class="login-modal">
        <div class="login-content">
            <div class="medal-icon">
                <i data-feather="award" class="w-10 h-10 text-white"></i>
            </div>
            <h2 class="text-2xl font-bold mb-4">Authentication Required</h2>
            <p class="text-gray-300 mb-6">You need to be logged in to access all features. Sign in to continue.</p>
            <button onclick="redirectToLogin()" class="btn-primary py-3 px-6 rounded-lg font-medium w-full mb-4">
                Sign In
            </button>
            <button onclick="closeLoginModal()" class="py-2 px-4 rounded-lg border border-purple-700 text-purple-300 hover:bg-purple-800 hover:bg-opacity-50 transition w-full">
                Continue as Guest
            </button>
        </div>
    </div>

    <!-- Loading Overlay - For auto-login verification -->
    <div id="loadingOverlay" class="modal-overlay">
        <div class="modal-content glassmorphism rounded-xl p-8 max-w-md w-full mx-4 text-center">
            <div class="loading-spinner mb-4"></div>
            <h2 class="text-2xl font-bold mb-2">Verifying session...</h2>
            <p class="text-gray-300">Please wait while we verify your session</p>
        </div>
    </div>

    <!-- Members Sidebar -->
    <div id="membersSidebar" class="members-sidebar">
        <div class="p-4 flex justify-between items-center border-b border-purple-800">
            <h2 class="text-lg font-semibold">Current Members</h2>
            <button id="closeMembersSidebar" class="p-1 rounded-full hover:bg-purple-700 transition">
                <i data-feather="x" class="w-5 h-5"></i>
            </button>
        </div>
        <div class="p-4 overflow-y-auto h-[calc(100%-60px)]">
            <div id="membersList" class="space-y-3"></div>
        </div>
    </div>
    <div id="membersOverlay" class="members-overlay"></div>

    <!-- Notification container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Warning Modal -->
    <div id="warningModal" class="hidden">
        <div class="glassmorphism rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center">
                    <div class="medal-icon mr-3">
                        <i data-feather="alert-triangle" class="w-8 h-8 text-yellow-400"></i>
                    </div>
                    <h2 class="text-2xl font-bold" id="warningModalTitle">Warnings</h2>
                </div>
            </div>
            
            <div id="warningList" class="mb-6 max-h-60 overflow-y-auto space-y-3">
                <!-- Warnings will be dynamically populated here -->
            </div>
            
            <div class="flex justify-between items-center text-sm text-gray-400 mb-4">
                <span id="warningCount">0 active warnings</span>
                <button id="viewHistoryBtn" class="text-purple-300 hover:text-purple-100">
                    View History
                </button>
            </div>
            
            <div class="flex flex-col gap-3">
                <button id="dismissAllBtn" class="bg-red-600 hover:bg-red-700 py-3 px-6 rounded-lg font-medium">
                    Dismiss All Warnings
                </button>
                <button id="closeWarningBtn" class="bg-gray-600 hover:bg-gray-700 py-2 px-6 rounded-lg font-medium hidden">
                    Close
                </button>
            </div>
        </div>
    </div>
    
    <!-- Warning History Modal -->
    <div id="warningHistoryModal" class="fixed inset-0 z-[2001] flex items-center justify-center bg-black bg-opacity-80 backdrop-blur-sm hidden">
        <div class="glassmorphism rounded-xl p-8 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Warning History</h2>
                <button onclick="closeHistoryModal()" class="p-1 rounded-full hover:bg-purple-700">
                    <i data-feather="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div id="warningHistoryList" class="space-y-4">
                <!-- Warning history will be populated here -->
            </div>
        </div>
    </div>
    
    <!-- Messages Container -->
    <div id="messageContainer" class="message-container hidden">
        <div class="glassmorphism rounded-xl p-4 mb-3" id="messageHeader" style="display: none;">
            <div class="flex justify-between items-center mb-2">
                <h3 class="font-semibold">Messages</h3>
            </div>
        </div>
        <div id="messagesList"></div>
    </div>

    <!-- Broadcast Modal -->
    <div id="broadcastModal" class="modal-overlay">
        <div class="modal-content glassmorphism rounded-xl p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center mr-3">
                        <i data-feather="bell" class="w-5 h-5 text-white"></i>
                    </div>
                    <h2 class="text-xl font-bold">Announcement</h2>
                </div>
                <button onclick="dismissBroadcast()" class="p-1 rounded-full hover:bg-purple-700">
                    <i data-feather="x" class="w-5 h-5"></i>
                </button>
            </div>
            <p id="broadcastMessage" class="text-gray-300 mb-4"></p>
            <div class="flex justify-between items-center text-sm text-gray-400 mb-4">
                <span id="broadcastAuthor"></span>
                <span id="broadcastTime"></span>
            </div>
            <button onclick="dismissBroadcast()" class="btn-primary py-2 px-6 rounded-lg font-medium w-full">
                Acknowledge
            </button>
        </div>
    </div>

    <!-- Update Check Modal -->
    <div id="updateModal" class="modal-overlay">
        <div class="modal-content glassmorphism rounded-xl p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-semibold">Check for Updates</h2>
                <button onclick="closeModal()" class="p-1 rounded-full hover:bg-purple-700 transition">
                    <i data-feather="x"></i>
                </button>
            </div>
            <p class="text-gray-300 mb-6">Select which client you'd like to check for updates:</p>
            
            <div class="space-y-4">
                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="redirectToUpdate('oblivion')">
                    <div class="w-12 h-12 rounded-full bg-green-600 flex items-center justify-center">
                        <i data-feather="box" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Oblivion Client</h3>
                        <p class="text-sm text-gray-300">Recommended</p>
                    </div>
                </div>
                
                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="redirectToUpdate('meteor')">
                    <div class="w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center">
                        <i data-feather="cloud" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Meteor Client</h3>
                        <p class="text-sm text-gray-300">Popular choice</p>
                    </div>
                </div>
                
                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="redirectToUpdate('wurst')">
                    <div class="w-12 h-12 rounded-full bg-yellow-600 flex items-center justify-center">
                        <i data-feather="zap" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Wurst Client</h3>
                        <p class="text-sm text-gray-300">Classic option</p>
                    </div>
                </div>

                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="redirectToUpdate('education')">
                    <div class="w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center">
                        <i data-feather="book" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Minecraft Education Edition</h3>
                        <p class="text-sm text-gray-300">For schools</p>
                    </div>
                </div>
            </div>
            
            <button onclick="closeModal()" class="w-full mt-6 py-2 px-4 rounded-lg border border-purple-700 hover:bg-purple-800 hover:bg-opacity-50 transition">
                Cancel
            </button>
        </div>
    </div>

    <!-- Minecraft Education Local Download Modal -->
    <div id="educationModal" class="modal-overlay">
        <div class="modal-content glassmorphism rounded-xl p-6 w-full max-w-md mx-4">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-semibold">Minecraft Education Edition</h2>
                <button onclick="closeEducationModal()" class="p-1 rounded-full hover:bg-purple-700 transition">
                    <i data-feather="x"></i>
                </button>
            </div>
            <p class="text-gray-300 mb-6">Choose how you'd like to get Minecraft Education Edition:(Use installer on school computer)</p>
            
            <div class="space-y-4">
                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="downloadEducationLocal()">
                    <div class="w-12 h-12 rounded-full bg-green-600 flex items-center justify-center">
                        <i data-feather="download" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Download Local File</h3>
                        <p class="text-sm text-gray-300">Direct download (EXE)</p>
                    </div>
                </div>
                
                <div class="client-option glassmorphism p-4 rounded-lg flex items-center space-x-4" onclick="redirectToOfficial('education')">
                    <div class="w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center">
                        <i data-feather="external-link" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="font-medium">Official Website</h3>
                        <p class="text-sm text-gray-300">Visit official site</p>
                    </div>
                </div>
            </div>
            
            <button onclick="closeEducationModal()" class="w-full mt-6 py-2 px-4 rounded-lg border border-purple-700 hover:bg-purple-800 hover:bg-opacity-50 transition">
                Cancel
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="relative z-10 min-h-screen flex flex-col">
        <!-- Header -->
        <header class="glassmorphism p-4 shadow-lg">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-4">
                    <a href="https://senturyhanderserson.github.io/SigmiForCCGS/" class="p-2 rounded-full hover:bg-purple-700 transition">
                        <i data-feather="arrow-left"></i>
                    </a>
                    <h1 class="text-2xl font-bold">Minecraft Clients</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="settingsButton" class="p-2 rounded-full hover:bg-purple-700 transition">
                        <i data-feather="settings"></i>
                    </button>
                    <button id="membersButton" class="p-2 rounded-full hover:bg-purple-700 transition">
                        <i data-feather="users"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 container mx-auto p-4 md:p-6">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Left Column -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Description Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-right">
                        <h2 class="text-xl font-semibold mb-4">About Minecraft Clients</h2>
                        <p class="text-gray-200">
                            Minecraft clients are modified versions of the Minecraft game that include various enhancements,
                            cheats, and quality-of-life features. These clients can provide advantages like X-ray vision,
                            auto-mining, flight, and more. Use them responsibly on servers or not, we don't really care.
                        </p>
                    </div>

                    <!-- Instructions Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-right" data-aos-delay="100">
                        <h2 class="text-xl font-semibold mb-4">Installation Instructions</h2>
                        <ol class="list-decimal list-inside space-y-3 text-gray-200">
                            <li class="pl-2">Visit the official website using the download buttons on the right</li>
                            <li class="pl-2">Download the client from the official source</li>
                            <li class="pl-2">Make sure you have Java installed on your computer</li>
                            <li class="pl-2">Download/Install Curseforge, Forge, Feather or any other client that allows mods</li>
                            <li class="pl-2">Create an instance that matches your desired version and client</li>
                            <li class="pl-2">Locate the mods folder and place the Jar file inside</li>
                            <li class="pl-2">Join a server and enjoy the *ethical* exploits</li>
                        </ol>
                    </div>

                    <!-- Video Tutorial Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-right" data-aos-delay="200">
                        <h2 class="text-xl font-semibold mb-4">Video Tutorial</h2>
                        <div class="aspect-w-16 aspect-h-9 bg-black bg-opacity-30 rounded-lg overflow-hidden">
                            <iframe class="w-full h-64 md:h-96" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="space-y-6">
                    <!-- Files Needed Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-left">
                        <h2 class="text-xl font-semibold mb-4">Available Clients</h2>
                        <div class="space-y-3">
                            <div class="file-card glassmorphism p-4 rounded-lg flex justify-between items-center hover:bg-purple-700 transition cursor-pointer" 
                                 onclick="handleClientClick('oblivion')">
                                <div>
                                    <h3 class="font-medium">Oblivion Client (recommended)</h3>
                                    <p class="text-sm text-gray-300">JAR • Official Site</p>
                                </div>
                                <div class="download-icon transition">
                                    <i data-feather="external-link"></i>
                                </div>
                            </div>
                            
                            <div class="file-card glassmorphism p-4 rounded-lg flex justify-between items-center hover:bg-purple-700 transition cursor-pointer" 
                                 onclick="handleClientClick('meteor')">
                                <div>
                                    <h3 class="font-medium">Meteor Client</h3>
                                    <p class="text-sm text-gray-300">JAR • Official Site</p>
                                </div>
                                <div class="download-icon transition">
                                    <i data-feather="external-link"></i>
                                </div>
                            </div>
                            
                            <div class="file-card glassmorphism p-4 rounded-lg flex justify-between items-center hover:bg-purple-700 transition cursor-pointer" 
                                 onclick="handleClientClick('wurst')">
                                <div>
                                    <h3 class="font-medium">Wurst Client</h3>
                                    <p class="text-sm text-gray-300">JAR • Official Site</p>
                                </div>
                                <div class="download-icon transition">
                                    <i data-feather="external-link"></i>
                                </div>
                            </div>

                            <div class="file-card glassmorphism p-4 rounded-lg flex justify-between items-center hover:bg-purple-700 transition cursor-pointer" 
                                 onclick="handleClientClick('education')">
                                <div>
                                    <h3 class="font-medium">Minecraft Education Edition</h3>
                                    <p class="text-sm text-gray-300">EXE • Bypass ICT Block</p>
                                </div>
                                <div class="download-icon transition">
                                    <i data-feather="external-link"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-left" data-aos-delay="100">
                        <h2 class="text-xl font-semibold mb-4">Quick Actions</h2>
                        <div class="space-y-3">
                            <button onclick="handleLaunchMinecraft()" class="minecraft-btn w-full py-3 px-4 rounded-lg flex items-center space-x-2 transition">
                                <i data-feather="play"></i>
                                <span>Launch Minecraft</span>
                            </button>
                            
                            <button onclick="handleCheckForUpdates()" class="bg-blue-600 hover:bg-blue-700 w-full py-3 px-4 rounded-lg flex items-center space-x-2 transition">
                                <i data-feather="download-cloud"></i>
                                <span>Check for Updates</span>
                            </button>
                        </div>
                    </div>

                    <!-- Warning Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale bg-opacity-70 bg-red-900" data-aos="fade-left" data-aos-delay="150">
                        <div class="flex items-start space-x-3">
                            <i data-feather="alert-triangle" class="text-yellow-300"></i>
                            <div>
                                <h3 class="font-semibold">Important Notice</h3>
                                <p class="text-sm text-gray-200 mt-1">
                                    Using clients may violate some servers' rules and could result in bans. 
                                    Use at your own risk, we are not liable for any bans or punishments you may receive for using these clients.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Support Card -->
                    <div class="glassmorphism rounded-xl p-6 shadow-lg hover-scale" data-aos="fade-left" data-aos-delay="200">
                        <h2 class="text-xl font-semibold mb-4">Need Help?</h2>
                        <p class="text-gray-200 mb-4">Join our Discord community for support and updates.</p>
                        <button onclick="joinDiscord()" class="bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg flex items-center space-x-2 transition">
                            <i data-feather="message-circle"></i>
                            <span>Join Discord</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="glassmorphism p-4 mt-6">
            <div class="container mx-auto text-center text-sm text-gray-300">
                <p>© 2025 Sigmi Team. All rights reserved. | <a href="#" class="hover:text-white">Terms</a> • <a href="#" class="hover:text-white">Privacy</a></p>
            </div>
        </footer>
    </div>

    <script>
        const SERVER_URL = 'https://proxyforsigmi.onrender.com';
        let userWarnings = [];
        let activeBroadcasts = [];
        let broadcastCheckInterval = null;
        let warningCheckInterval = null;
        
        // Initialize animations and icons
        AOS.init();
        feather.replace();

        // Vanta.js background
        VANTA.GLOBE({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            scaleMobile: 1.00,
            color: 0x6e45e2,
            backgroundColor: 0x0,
            size: 0.8
        });

        // Official website URLs
        const CLIENT_URLS = {
            oblivion: "https://oblivionexecutor.site/#products",
            meteor: "https://meteorclient.com/",
            wurst: "https://www.wurstclient.net/download/",
            education: "https://education.minecraft.net/en-us/get-started/download"
        };

        // Local file download URLs
        const LOCAL_DOWNLOADS = {
            education: "content/Minecraft Education Installer.exe" // This should point to your actual file
        };

        // Utility Functions
        function getCookie(name) {
            const cookieName = name + "=";
            const decodedCookie = decodeURIComponent(document.cookie);
            const cookieArray = decodedCookie.split(';');
            
            for(let i = 0; i < cookieArray.length; i++) {
                let cookie = cookieArray[i];
                while (cookie.charAt(0) === ' ') {
                    cookie = cookie.substring(1);
                }
                if (cookie.indexOf(cookieName) === 0) {
                    return cookie.substring(cookieName.length, cookie.length);
                }
            }
            return "";
        }

        function setCookie(name, value) {
            // 10 years in seconds
            const maxAge = 10 * 365 * 24 * 60 * 60;
            document.cookie = `${name}=${value}; Max-Age=${maxAge}; path=/; SameSite=Strict`;
        }

        function showNotification(message, type = 'info', duration = 3000) {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            let icon = 'info';
            if (type === 'success') icon = 'check-circle';
            if (type === 'error') icon = 'alert-triangle';
            if (type === 'warning') icon = 'alert-circle';
            
            notification.innerHTML = `
                <div class="notification-icon">
                    <i data-feather="${icon}"></i>
                </div>
                <div class="notification-content">
                    ${message}
                </div>
                <div class="notification-close" onclick="this.parentElement.classList.add('hidden')">
                    <i data-feather="x"></i>
                </div>
            `;
            
            container.appendChild(notification);
            feather.replace();
            
            // Auto remove after duration
            setTimeout(() => {
                notification.classList.add('hidden');
                setTimeout(() => notification.remove(), 300);
            }, duration);
        }

        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        function truncateText(text, maxLength) {
            if (text.length <= maxLength) return text;
            return text.substr(0, maxLength) + '...';
        }

        function formatTime(date) {
            return date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        function getTimeAgo(timestamp) {
            const now = new Date();
            const messageTime = new Date(timestamp);
            const diffInSeconds = Math.floor((now - messageTime) / 1000);
            
            if (diffInSeconds < 60) return 'just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;
            return `${Math.floor(diffInSeconds / 86400)}d ago`;
        }

        // Warning System Functions
        async function checkForWarnings() {
            try {
                const token = getCookie('AuthToken');
                if (!token) return;
                
                const response = await fetch(`${SERVER_URL}/api/check-warnings`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    userWarnings = data.warnings || [];
                    
                    if (data.hasWarnings && userWarnings.length > 0) {
                        showWarningModal(userWarnings);
                    }
                }
            } catch (error) {
                console.error('Error checking for warnings:', error);
            }
        }

        async function dismissWarning(warningId) {
            try {
                const token = getCookie('AuthToken');
                if (!token) {
                    showNotification('Authentication required', 'error');
                    return false;
                }
                
                const response = await fetch(`${SERVER_URL}/api/warnings/${warningId}/dismiss`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    const warningIndex = userWarnings.findIndex(w => w.id === warningId);
                    if (warningIndex !== -1) {
                        userWarnings[warningIndex] = {
                            ...userWarnings[warningIndex],
                            dismissed: true,
                            dismissedAt: data.warning.dismissedAt,
                            dismissedBy: data.warning.dismissedBy
                        };
                    }
                    
                    showWarningModal(userWarnings);
                    showNotification(data.message || 'Warning dismissed successfully', 'success');
                    return true;
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Failed to dismiss warning');
                }
            } catch (error) {
                console.error('Error dismissing warning:', error);
                showNotification(error.message || 'Failed to dismiss warning', 'error');
                return false;
            }
        }

        async function dismissAllWarnings() {
            try {
                const token = getCookie('AuthToken');
                if (!token) {
                    showNotification('Authentication required', 'error');
                    return;
                }
                
                const activeWarnings = userWarnings.filter(w => !w.dismissed);
                if (activeWarnings.length === 0) {
                    showNotification('No active warnings to dismiss', 'info');
                    return;
                }
                
                const response = await fetch(`${SERVER_URL}/api/warnings/dismiss-all`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    userWarnings.forEach(warning => {
                        if (!warning.dismissed) {
                            warning.dismissed = true;
                            warning.dismissedAt = new Date().toISOString();
                            warning.dismissedBy = localStorage.getItem('currentUser');
                        }
                    });
                    
                    showWarningModal(userWarnings);
                    showNotification(data.message || `Dismissed ${data.dismissedCount} warning(s)`, 'success');
                    
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Failed to dismiss warnings');
                }
            } catch (error) {
                console.error('Error dismissing all warnings:', error);
                showNotification(error.message || 'Failed to dismiss all warnings', 'error');
            }
        }

        function showWarningModal(warnings) {
            const modal = document.getElementById('warningModal');
            const warningList = document.getElementById('warningList');
            const warningCount = document.getElementById('warningCount');
            const modalTitle = document.getElementById('warningModalTitle');
            const closeWarningBtn = document.getElementById('closeWarningBtn');
            const dismissAllBtn = document.getElementById('dismissAllBtn');
            
            warningList.innerHTML = '';
            
            const activeWarnings = warnings.filter(w => !w.dismissed);
            
            warningCount.textContent = `${activeWarnings.length} active warning${activeWarnings.length !== 1 ? 's' : ''}`;
            modalTitle.textContent = `Warnings (${activeWarnings.length})`;
            
            if (activeWarnings.length === 0) {
                dismissAllBtn.classList.add('hidden');
                closeWarningBtn.classList.remove('hidden');
            } else {
                dismissAllBtn.classList.remove('hidden');
                closeWarningBtn.classList.add('hidden');
            }
            
            activeWarnings.forEach((warning, index) => {
                const warningElement = document.createElement('div');
                warningElement.className = 'p-3 rounded-lg bg-red-900 bg-opacity-30 border border-red-700 mb-3';
                warningElement.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <span class="font-medium">Warning #${index + 1}</span>
                        <span class="text-xs px-2 py-1 bg-red-700 rounded">Active</span>
                    </div>
                    <p class="text-sm mb-2">${warning.reason}</p>
                    <div class="flex justify-between items-center text-xs text-gray-400">
                        <span>By: ${warning.issuedBy}</span>
                        <span>${new Date(warning.issuedAt).toLocaleDateString()}</span>
                    </div>
                    <button onclick="dismissWarning('${warning.id}')" class="w-full mt-2 py-2 bg-red-700 hover:bg-red-600 rounded text-sm font-medium">
                        Dismiss This Warning
                    </button>
                `;
                warningList.appendChild(warningElement);
            });
            
            if (activeWarnings.length === 0) {
                warningList.innerHTML = `
                    <div class="text-center py-4">
                        <i data-feather="check-circle" class="w-12 h-12 text-green-400 mx-auto mb-2"></i>
                        <p class="text-green-300 font-medium">All warnings have been dismissed</p>
                        <p class="text-gray-400 text-sm mt-1">You can now close this window</p>
                    </div>
                `;
            }
            
            modal.classList.remove('hidden');
            feather.replace();
        }

        function closeWarningModal() {
            const activeWarnings = userWarnings.filter(w => !w.dismissed);
            
            if (activeWarnings.length === 0) {
                document.getElementById('warningModal').classList.add('hidden');
                showNotification('Warning modal closed', 'info');
            } else {
                showNotification(`You still have ${activeWarnings.length} active warning(s) to dismiss`, 'warning');
            }
        }
        
        // View warning history
        async function viewWarningHistory() {
            try {
                const token = getCookie('AuthToken');
                if (!token) {
                    showNotification('Authentication required', 'error');
                    return;
                }
                
                const response = await fetch(`${SERVER_URL}/api/warnings/history`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showWarningHistoryModal(data.warnings);
                } else {
                    throw new Error('Failed to fetch warning history');
                }
            } catch (error) {
                console.error('Error fetching warning history:', error);
                showNotification('Failed to load warning history', 'error');
            }
        }

        // Show warning history modal
        function showWarningHistoryModal(warnings) {
            const modal = document.getElementById('warningHistoryModal');
            const historyList = document.getElementById('warningHistoryList');
            const activeWarningsBefore = userWarnings.filter(w => !w.dismissed).length;
            
            historyList.innerHTML = '';
            
            if (warnings && warnings.length > 0) {
                warnings.forEach(warning => {
                    const warningElement = document.createElement('div');
                    warningElement.className = `p-4 rounded-lg ${warning.dismissed ? 'bg-green-900 bg-opacity-30' : 'bg-red-900 bg-opacity-30'}`;
                    warningElement.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="font-medium">${warning.reason}</p>
                                <p class="text-sm text-gray-400 mt-1">
                                    Issued by ${warning.issuedBy} on ${new Date(warning.issuedAt).toLocaleDateString()}
                                    ${warning.dismissedAt ? `<br>Dismissed on ${new Date(warning.dismissedAt).toLocaleDateString()} by ${warning.dismissedBy}` : ''}
                                </p>
                            </div>
                            <span class="px-2 py-1 rounded text-xs ${warning.dismissed ? 'bg-green-700' : 'bg-red-700'}">
                                ${warning.dismissed ? 'Dismissed' : 'Active'}
                            </span>
                        </div>
                        ${!warning.dismissed ? `
                            <button onclick="dismissWarning('${warning.id}')" class="w-full mt-2 py-2 bg-red-700 hover:bg-red-600 rounded text-sm">
                                Dismiss This Warning
                            </button>
                        ` : ''}
                    `;
                    historyList.appendChild(warningElement);
                });
            } else {
                historyList.innerHTML = '<p class="text-gray-400 text-center py-8">No warning history found</p>';
            }
            
            modal.classList.remove('hidden');
            feather.replace();
        }

        // Close history modal
        function closeHistoryModal() {
            const historyModal = document.getElementById('warningHistoryModal');
            if (historyModal) {
                historyModal.classList.add('hidden');
            }
        }
        
        // Message System Functions
        async function loadMessages() {
            try {
                const token = getCookie('AuthToken');
                if (!token) return;
                
                const response = await fetch(`${SERVER_URL}/api/messages`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    displayMessages(data.messages);
                }
            } catch (error) {
                console.error('Error loading messages:', error);
            }
        }

        function displayMessages(messages) {
            const container = document.getElementById('messageContainer');
            const messagesList = document.getElementById('messagesList');
            const messageHeader = document.getElementById('messageHeader');
            
            messagesList.innerHTML = '';
            
            if (!messages || messages.length === 0) {
                container.classList.add('hidden');
                messageHeader.style.display = 'none';
                return;
            }
            
            container.classList.remove('hidden');
            messageHeader.style.display = 'block';
            
            messages.forEach((message, index) => {
                setTimeout(() => {
                    const messageElement = createMessageElement(message);
                    messagesList.appendChild(messageElement);
                }, index * 100);
            });
            
            feather.replace();
        }

        function createMessageElement(message) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'glassmorphism rounded-lg p-4 mb-3';
            messageDiv.style.borderLeft = '3px solid #6e45e2';
            messageDiv.style.animation = 'slideInFromLeft 0.3s ease-out';
            messageDiv.id = `message-${message.id}`;
            
            const timeAgo = getTimeAgo(message.createdAt);
            
            messageDiv.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <div class="flex items-center">
                        <i data-feather="mail" class="w-4 h-4 mr-2 text-purple-400"></i>
                        <span class="font-medium text-sm">${escapeHtml(message.from)}</span>
                    </div>
                    <span class="text-xs text-gray-400">${timeAgo}</span>
                </div>
                <p class="text-sm text-gray-300 mb-3">${escapeHtml(message.message)}</p>
                <div class="flex justify-end">
                    <button onclick="dismissMessage('${message.id}')" 
                            class="text-xs bg-purple-600 hover:bg-purple-700 px-3 py-1 rounded transition-colors">
                        Dismiss
                    </button>
                </div>
            `;
            
            return messageDiv;
        }

        async function dismissMessage(messageId) {
            try {
                const token = getCookie('AuthToken');
                if (!token) {
                    showNotification('Authentication required', 'error');
                    return;
                }
                
                const response = await fetch(`${SERVER_URL}/api/messages/${messageId}/dismiss`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const messageElement = document.getElementById(`message-${messageId}`);
                    if (messageElement) {
                        messageElement.style.animation = 'slideOutToLeft 0.3s ease-in';
                        setTimeout(() => {
                            messageElement.remove();
                            checkRemainingMessages();
                        }, 300);
                    }
                    showNotification('Message dismissed', 'success');
                } else {
                    showNotification('Failed to dismiss message', 'error');
                }
            } catch (error) {
                console.error('Error dismissing message:', error);
                showNotification('Error dismissing message', 'error');
            }
        }

        function checkRemainingMessages() {
            const messagesList = document.getElementById('messagesList');
            const messageHeader = document.getElementById('messageHeader');
            const container = document.getElementById('messageContainer');
            
            if (messagesList.children.length === 0) {
                container.classList.add('hidden');
                messageHeader.style.display = 'none';
            }
        }

        // Broadcast System Functions
        function createBroadcastToastContainer() {
            const container = document.createElement('div');
            container.id = 'broadcastToastContainer';
            container.className = 'fixed bottom-4 right-4 z-[1000] max-w-md';
            document.body.appendChild(container);
            return container;
        }

        async function checkForBroadcasts() {
            try {
                const token = getCookie('AuthToken');
                if (!token) return;
                
                const response = await fetch(`${SERVER_URL}/api/broadcasts`, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    throw new Error('Failed to fetch broadcasts');
                }
                
                const data = await response.json();
                
                if (data.success && data.broadcasts.length > 0) {
                    const dismissedBroadcasts = JSON.parse(localStorage.getItem('dismissedBroadcasts') || '[]');
                    
                    data.broadcasts.forEach(broadcast => {
                        if (!dismissedBroadcasts.includes(broadcast.id) && 
                            !activeBroadcasts.some(ab => ab.id === broadcast.id)) {
                            activeBroadcasts.push(broadcast);
                            showBroadcastToast(broadcast);
                        }
                    });
                }
            } catch (error) {
                console.error('Error checking for broadcasts:', error);
            }
        }

        function showBroadcastToast(broadcast) {
            const toastContainer = document.getElementById('broadcastToastContainer') || createBroadcastToastContainer();
            
            const toast = document.createElement('div');
            toast.className = 'broadcast-toast glassmorphism p-4 rounded-lg mb-2 transform translate-y-20 transition-transform duration-300';
            toast.dataset.broadcastId = broadcast.id;
            
            toast.innerHTML = `
                <div class="flex items-start">
                    <div class="mr-3 mt-0.5">
                        <i data-feather="bell" class="w-5 h-5 text-yellow-400"></i>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-semibold mb-1">New Announcement</h3>
                        <p class="text-sm text-gray-300">${truncateText(broadcast.message, 100)}</p>
                    </div>
                    <button onclick="hideBroadcastToast('${broadcast.id}')" class="ml-3 text-gray-400 hover:text-white">
                        <i data-feather="x" class="w-4 h-4"></i>
                    </button>
                </div>
                <div class="mt-2 flex justify-end">
                    <button onclick="showBroadcastModal('${broadcast.id}')" class="text-sm text-purple-300 hover:text-purple-100 mr-3">
                        View Details
                    </button>
                    <button onclick="dismissBroadcast('${broadcast.id}')" class="text-sm text-gray-400 hover:text-white">
                        Dismiss
                    </button>
                </div>
            `;
            
            toastContainer.appendChild(toast);
            feather.replace();
            
            setTimeout(() => {
                toast.classList.remove('translate-y-20');
                toast.classList.add('translate-y-0');
            }, 100);
            
            setTimeout(() => {
                hideBroadcastToast(broadcast.id);
            }, 15000);
        }

        function hideBroadcastToast(broadcastId) {
            const toast = document.querySelector(`.broadcast-toast[data-broadcast-id="${broadcastId}"]`);
            if (toast) {
                toast.classList.remove('translate-y-0');
                toast.classList.add('translate-y-20');
                
                setTimeout(() => {
                    toast.remove();
                    activeBroadcasts = activeBroadcasts.filter(b => b.id !== broadcastId);
                }, 300);
            }
        }

        function showBroadcastModal(broadcastId) {
            const broadcast = activeBroadcasts.find(b => b.id === broadcastId);
            if (!broadcast) return;
            
            const modal = document.getElementById('broadcastModal');
            const message = document.getElementById('broadcastMessage');
            const author = document.getElementById('broadcastAuthor');
            const time = document.getElementById('broadcastTime');
            
            message.textContent = broadcast.message;
            author.textContent = `From: ${broadcast.createdBy}`;
            time.textContent = formatTime(new Date(broadcast.createdAt));
            
            modal.dataset.broadcastId = broadcastId;
            modal.classList.add('active');
            
            hideBroadcastToast(broadcastId);
        }

        async function dismissBroadcast(broadcastId) {
            try {
                const token = getCookie('AuthToken');
                if (token) {
                    await fetch(`${SERVER_URL}/api/broadcasts/${broadcastId}/dismiss`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${token}`,
                            'Content-Type': 'application/json'
                        }
                    });
                }
                
                const dismissedBroadcasts = JSON.parse(localStorage.getItem('dismissedBroadcasts') || '[]');
                if (!dismissedBroadcasts.includes(broadcastId)) {
                    dismissedBroadcasts.push(broadcastId);
                    localStorage.setItem('dismissedBroadcasts', JSON.stringify(dismissedBroadcasts));
                }
                
                const modal = document.getElementById('broadcastModal');
                if (modal.dataset.broadcastId === broadcastId) {
                    modal.classList.remove('active');
                }
                
                hideBroadcastToast(broadcastId);
                
            } catch (error) {
                console.error('Error dismissing broadcast:', error);
            }
        }

        // Initialization Functions
        function initMessageSystem() {
            setTimeout(loadMessages, 1000);
            setInterval(loadMessages, 3 * 60 * 1000);
        }

        function initWarningSystem() {
            setTimeout(checkForWarnings, 2000);
            warningCheckInterval = setInterval(checkForWarnings, 5 * 60 * 1000);
        }

        function initBroadcastSystem() {
            checkForBroadcasts();
            broadcastCheckInterval = setInterval(checkForBroadcasts, 2 * 60 * 1000);
        }

        // Function to check if user is logged in
        function isLoggedIn() {
            const token = getCookie('AuthToken');
            const currentUser = localStorage.getItem('currentUser');
            return !!(token && currentUser);
        }

        // Function to verify token with server
        async function verifyToken(token) {
            try {
                const response = await fetch('https://proxyforsigmi.onrender.com/api/verify-token', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                if (!response.ok) {
                    return false;
                }
                
                const data = await response.json();
                return data.valid === true;
            } catch (error) {
                console.error('Token verification error:', error);
                return false;
            }
        }

        // Check authentication status on page load
        document.addEventListener('DOMContentLoaded', function() {
            const token = getCookie('AuthToken');
            const currentUser = localStorage.getItem('currentUser');
            
            if (token && currentUser) {
                // Show loading overlay while verifying token
                document.getElementById('loadingOverlay').classList.add('active');
                
                // Verify token with server
                verifyToken(token).then(isValid => {
                    document.getElementById('loadingOverlay').classList.remove('active');
                    if (isValid) {
                        // Initialize all systems if user is authenticated
                        initMessageSystem();
                        initWarningSystem();
                        initBroadcastSystem();
                    } else {
                        showLoginModal();
                    }
                }).catch(error => {
                    console.error('Token verification failed:', error);
                    document.getElementById('loadingOverlay').classList.remove('active');
                    showLoginModal();
                });
            } else {
                // No token found, show login modal
                setTimeout(showLoginModal, 1000);
            }

            // Add event listeners for warning system
            document.addEventListener('click', function(e) {
                if (e.target.id === 'viewHistoryBtn' || e.target.closest('#viewHistoryBtn')) {
                    viewWarningHistory();
                }
                
                if (e.target.id === 'dismissAllBtn' || e.target.closest('#dismissAllBtn')) {
                    dismissAllWarnings();
                }
                
                if (e.target.id === 'closeWarningBtn' || e.target.closest('#closeWarningBtn')) {
                    closeWarningModal();
                }
            });

            // Close broadcast modal when clicking outside
            document.getElementById('broadcastModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });

            // Clear intervals when page is unloaded
            window.addEventListener('beforeunload', () => {
                if (broadcastCheckInterval) {
                    clearInterval(broadcastCheckInterval);
                }
                if (warningCheckInterval) {
                    clearInterval(warningCheckInterval);
                }
            });
        });

        // Show login modal function
        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        // Close login modal function
        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        // Redirect to login page
        function redirectToLogin() {
            window.location.href = 'https://senturyhanderserson.github.io/SigmiForCCGS/';
        }

        // Modal functions
        function openModal() {
            document.getElementById('updateModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('updateModal').classList.remove('active');
        }

        // Education modal functions
        function openEducationModal() {
            document.getElementById('educationModal').classList.add('active');
        }

        function closeEducationModal() {
            document.getElementById('educationModal').classList.remove('active');
        }

        // Handle client click - check if user is logged in first
        function handleClientClick(client) {
            if (!isLoggedIn()) {
                showLoginModal();
                return;
            }
            
            if (client === 'education') {
                openEducationModal();
            } else {
                redirectToOfficial(client);
            }
        }

        // Handle check for updates button - requires login
        function handleCheckForUpdates() {
            if (!isLoggedIn()) {
                showLoginModal();
                return;
            }
            
            openModal();
        }

        // Handle launch Minecraft button - requires login
        function handleLaunchMinecraft() {
            if (!isLoggedIn()) {
                showLoginModal();
                return;
            }
            
            launchMinecraft();
        }

        // Redirect to official website for downloads
        function redirectToOfficial(client) {
            window.open(CLIENT_URLS[client], '_blank');
        }

        // Download local file for Minecraft Education
        function downloadEducationLocal() {
            if (!isLoggedIn()) {
                showLoginModal();
                return;
            }
            
            // Create a temporary link to trigger download
            const link = document.createElement('a');
            link.href = LOCAL_DOWNLOADS.education;
            link.download = 'MinecraftEducationEdition.exe';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            closeEducationModal();
        }

        // Redirect to update check (official website)
        function redirectToUpdate(client) {
            closeModal();
            window.open(CLIENT_URLS[client], '_blank');
        }

        // Launch Minecraft function
        function launchMinecraft() {
            alert("Coming Soon!");
        }

        // Join Discord function
        function joinDiscord() {
            window.open("https://discord.gg/Epn4J6aBnT", "_blank");
        }

        // Settings button functionality
        document.getElementById('settingsButton').addEventListener('click', function() {
            window.location.href = 'settings';
        });

        // Close modal when clicking outside
        document.getElementById('updateModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        document.getElementById('educationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeEducationModal();
            }
        });

        // Members sidebar functionality
        document.getElementById('membersButton').addEventListener('click', function() {
            const token = getCookie('AuthToken');
            if (!token) {
                showLoginModal();
                return;
            }
            
            document.getElementById('membersSidebar').classList.add('active');
            document.getElementById('membersOverlay').classList.add('active');
            loadMembers();
        });

        document.getElementById('closeMembersSidebar').addEventListener('click', function() {
            document.getElementById('membersSidebar').classList.remove('active');
            document.getElementById('membersOverlay').classList.remove('active');
        });

        document.getElementById('membersOverlay').addEventListener('click', function() {
            document.getElementById('membersSidebar').classList.remove('active');
            this.classList.remove('active');
        });

        // Load members function
async function loadMembers() {
    try {
        const token = getCookie('AuthToken');
        if (!token) {
            throw new Error("No authentication token found");
        }

        const res = await fetch("https://proxyforsigmi.onrender.com/api/users", {
            method: "GET",
            headers: {
                'Authorization': `Bearer ${token}`,
                'Content-Type': 'application/json'
            },
            credentials: "include"
        });

        if (!res.ok) {
            throw new Error(`Failed to fetch members: ${res.status} ${res.statusText}`);
        }

        const contentType = res.headers.get('content-type');
        if (!contentType || !contentType.includes('application/json')) {
            throw new Error("Server returned non-JSON response");
        }

        const members = await res.json();
        const container = document.getElementById("membersList");

        // Clear old content with a fade effect
        container.innerHTML = "";
        container.classList.remove("opacity-100");
        container.classList.add("opacity-0");

        setTimeout(() => {
            if (!Array.isArray(members) || members.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-8 text-gray-400">
                        <i data-feather="users" class="w-12 h-12 mx-auto mb-4"></i>
                        <p>No members found</p>
                    </div>
                `;
            } else {
                members.forEach(user => {
                    // Handle missing username safely
                    const safeUsername = user.username || "Unknown";
                    const initials = safeUsername
                        .split(" ")
                        .filter(word => word.length > 0)
                        .map(word => word[0].toUpperCase())
                        .join("")
                        .slice(0, 2);

                    // Color based on role for consistency
                    let color = "bg-purple-600";
                    if (user.role === "Owner") color = "bg-red-600";
                    else if (user.role === "Admin") color = "bg-blue-600";
                    else if (user.role === "VIP") color = "bg-yellow-600";

                    const memberDiv = document.createElement("div");
                    memberDiv.className = "flex items-center p-3 rounded-lg hover:bg-purple-800 hover:bg-opacity-50 transition-colors duration-200";
                    memberDiv.title = `Role: ${user.role || 'Member'} | Joined: ${user.joined || 'Unknown'}`;

                    memberDiv.innerHTML = `
                        <div class="w-10 h-10 rounded-full ${color} flex items-center justify-center mr-3 flex-shrink-0">
                            <span class="text-sm font-bold text-white">${initials}</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="font-medium truncate">${safeUsername}</div>
                            <div class="text-xs text-gray-400 capitalize">${user.role || 'Member'}</div>
                        </div>
                    `;
                    container.appendChild(memberDiv);
                });
            }

            // Fade in new content
            setTimeout(() => {
                container.classList.remove("opacity-0");
                container.classList.add("opacity-100");
                feather.replace(); // Refresh icons
            }, 50);

        }, 100);

    } catch (err) {
        console.error("[ERROR] Failed to load members:", err);

        const container = document.getElementById("membersList");
        container.innerHTML = `
            <div class="text-center py-8 text-red-300">
                <i data-feather="alert-triangle" class="w-12 h-12 mx-auto mb-4"></i>
                <p class="font-medium">Failed to load members</p>
                <p class="text-sm mt-2">${err.message}</p>
                <button onclick="loadMembers()" class="mt-4 px-4 py-2 bg-purple-700 rounded-lg hover:bg-purple-600 transition-colors">
                    Try Again
                </button>
            </div>
        `;
        feather.replace();
    }
}


        // Refresh icons after page load
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
        });
    </script>
</body>
</html>


